@import "variables";
@import "theme";
@import "../../typography/variables";
@import "../../mixins";
@import "../../placeholders";
@import "button-base";

@mixin u-all-buttons() {
  .u-btn-elevated,
  .u-btn-filled,
  .u-btn-filled-tonal,
  .u-btn-text,
  .u-btn-borderless,
  .u-btn-outlined,
  .u-btn-floating {
    @content;
  }
}

@include u-all-buttons() {
  @extend %u-button-base;
  height: $u-btn-height;
  line-height: $u-btn-material-line-height;
  transition: color 150ms ease-in-out, background-color 150ms ease-in-out, box-shadow 150ms ease-in-out;

  &.disabled,
  &:disabled {
    color: var(--u-on-surface-color) !important;
    box-shadow: none;
    opacity: .38;

    &::before {
      background: var(--u-on-surface-color);
      opacity: .36;
    }
  }
}

.u-btn-floating,
.u-btn-elevated,
.u-btn-filled,
.u-btn-filled-tonal,
.u-btn-tonal {
  &.disabled,
  &:disabled {
    background-color: none;
  }
}

.u-btn-set {
  display: inline-flex;

  @include u-all-buttons() {
    &:not(:first-child) {
      margin-left: $u-btn-set-margin;
    }
  }
}

.u-btn-text,
.u-btn-borderless,
.u-btn-outlined {
  background: transparent;
}

.u-btn-text,
.u-btn-filled,
.u-btn-filled-tonal,
.u-btn-elevated,
.u-btn-outlined {
  padding: 0 $u-btn-side-padding;
  border-radius: $u-btn-border-radius;
}

.u-btn-elevated {
  background: var(--u-surface-elevation-tint-1);
  color: var(--u-primary-color);
}

.u-btn-filled,
.u-btn-floating {
  color: var(--u-on-primary-color);
  background-color: var(--u-primary-color);
}

.u-btn-filled-tonal {
  background: var(--u-secondary-container-color);
  color: var(--u-on-secondary-container-color);
}

.u-btn-outlined {
  border: $u-btn-outline-border-width solid var(--u-outline-color);

  &::before,
  .u-ripple-wrapper {
    top: -$u-btn-outline-border-width;
    right: -$u-btn-outline-border-width;
    bottom: -$u-btn-outline-border-width;
    left: -$u-btn-outline-border-width;
  }
}

.u-btn-floating,
.u-btn-elevated,
.u-btn-filled,
.u-btn-filled-tonal {
  transition: box-shadow 250ms;
}
.u-btn-floating,
.u-btn-elevated {
  @include u-elevation-shadow(1);

  &:hover {
    @include u-elevation-shadow(3);
  }
}

.u-btn-filled,
.u-btn-filled-tonal {
  &:hover {
    @include u-elevation-shadow(1);
  }
}

.u-btn-icon {
  display: inline-block;
  width: $u-btn-icon-size;
  height: $u-btn-icon-size;
  margin-right: $u-btn-icon-margin-end;
  margin-left: $u-btn-icon-margin-start;
  font-size: $u-btn-icon-size;
  line-height: $u-btn-icon-size;
}

.u-btn-icon-end {
  margin-right: $u-btn-icon-margin-start;
  margin-left: $u-btn-icon-margin-end;
}

.u-btn-borderless {
  width: $u-btn-borderless-size !important;
  height: $u-btn-borderless-size !important;
  padding: 0;
  overflow: visible;
  border-radius: 50%;

  .u-btn-icon {
    width: $u-btn-borderless-icon-size;
    height: $u-btn-borderless-icon-size;
    margin: 0;
    font-size: $u-btn-borderless-icon-size;
    line-height: $u-btn-borderless-icon-size;
  }
}

.u-btn-floating {
  width: $u-btn-floating-size;
  height: $u-btn-floating-size !important;
  border-radius: $u-btn-floating-border-radius;

  .u-btn-icon {
    width: $u-btn-borderless-icon-size;
    height: $u-btn-borderless-icon-size;
    margin: 0;
    font-size: $u-btn-borderless-icon-size;
    line-height: $u-btn-borderless-icon-size;
  }
}

.u-btn-floating-extended {
  width: auto;
  height: $u-btn-floating-extended-height !important;
  padding-right: $u-btn-floating-extended-padding;
  padding-left: $u-btn-floating-extended-padding;
  border-radius: $u-btn-floating-extended-border-radius;

  .u-btn-icon {
    margin-right: $u-btn-floating-extended-icon-margin;
    margin-left: $u-btn-floating-extended-icon-margin - $u-btn-floating-extended-padding;
  }
}

.u-btn-floating-sm {
  width: $u-btn-floating-small-size;
  height: $u-btn-floating-small-size !important;
  border-radius: $u-btn-floating-small-border-radius !important;
}

.u-btn-floating.u-btn-default {
  color: var(--u-primary-color);
  background: var(--u-surface-color);
}

.u-btn-text,
.u-btn-outlined {
  color: var(--u-primary-color);
}

.u-btn-borderless.u-btn-default {
  color: var(--u-on-surface-variant-color);
}

.rtl,
[dir="rtl"] {
  .u-btn-icon {
    margin-right: $u-btn-icon-margin-start;
    margin-left: $u-btn-icon-margin-end;
  }

  .u-btn-icon-end {
    margin-right: $u-btn-icon-margin-end;
    margin-left: $u-btn-icon-margin-start;
  }

  .u-btn-floating,
  .u-btn-borderless {
    .u-btn-icon {
      margin: 0;
    }
  }

  .u-btn-floating-extended {
    .u-btn-icon {
      margin-right: $u-btn-floating-extended-icon-margin - $u-btn-floating-extended-padding;
      margin-left: $u-btn-floating-extended-icon-margin;
    }
  }

  .u-btn-set {
    @include u-all-buttons() {
      margin-left: 0;
      &:not(:first-child) {
        margin-right: $u-btn-set-margin;
      }
    }
  }
}
